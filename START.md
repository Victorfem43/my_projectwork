# Quick Start Guide - Single Port Setup

## ğŸš€ Quick Start (Everything on Port 3000)

### Step 1: Install Dependencies

```bash
npm run install:all
```

### Step 2: Setup Environment Variables

Run the setup script to create `.env` file:

```bash
npm run setup
```

Or manually copy and configure:

```bash
cp .env.example .env
```

**Important:** Edit `.env` and update:
- `MONGODB_URI` - Your MongoDB connection string
- `JWT_SECRET` - A secure random string (auto-generated by setup script)
- `CLOUDINARY_*` - Optional, for image uploads

### Step 3: Start MongoDB

**Windows:**
```bash
# Check if MongoDB is running
npm run check-mongodb

# Or start manually
net start MongoDB
```

**macOS/Linux:**
```bash
# Check MongoDB status
npm run check-mongodb

# Start MongoDB (macOS with Homebrew)
brew services start mongodb-community

# Start MongoDB (Linux)
sudo systemctl start mongod
```

**Or use MongoDB Atlas (Cloud - Recommended):**
1. Sign up at https://www.mongodb.com/cloud/atlas (free tier)
2. Create a cluster
3. Get connection string
4. Update `MONGODB_URI` in `.env`:
   ```
   MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/vickyexchange
   ```

### Step 4: Seed Initial Data (Optional)

```bash
npm run seed
```

This creates sample crypto assets and gift cards.

### Step 5: Start the Server

```bash
npm run dev
```

The server will start on **http://localhost:3000**

- **Frontend**: http://localhost:3000
- **API**: http://localhost:3000/api
- **Health Check**: http://localhost:3000/api/health

## ğŸ“ Project Structure

```
vickyexchange/
â”œâ”€â”€ server.js              # Main server (Express + Next.js on port 3000)
â”œâ”€â”€ .env                   # Environment variables
â”œâ”€â”€ backend/               # Backend API routes and models
â”‚   â”œâ”€â”€ models/           # MongoDB models
â”‚   â”œâ”€â”€ routes/           # API routes
â”‚   â””â”€â”€ middleware/       # Auth middleware
â”œâ”€â”€ frontend/              # Next.js frontend
â”‚   â”œâ”€â”€ app/              # Next.js app directory
â”‚   â”œâ”€â”€ components/       # React components
â”‚   â””â”€â”€ lib/              # Utilities
â””â”€â”€ scripts/              # Utility scripts
```

## ğŸ”§ How It Works

- **Single Port (3000)**: Both backend API and frontend run on port 3000
- **API Routes**: All `/api/*` requests go to Express backend
- **Frontend Routes**: All other requests go to Next.js frontend
- **Differentiation**: 
  - API endpoints: `http://localhost:3000/api/*`
  - Frontend pages: `http://localhost:3000/*` (except /api)

## ğŸ¯ Access Points

### Frontend Pages
- `/` - Landing page
- `/login` - User login
- `/register` - Registration
- `/dashboard` - User dashboard
- `/trade/crypto` - Crypto trading
- `/trade/giftcards` - Gift card trading
- `/admin/dashboard` - Admin panel (admin only)

### API Endpoints
- `/api/health` - Health check
- `/api/auth/*` - Authentication
- `/api/users/*` - User management
- `/api/wallets/*` - Wallet operations
- `/api/crypto/*` - Crypto trading
- `/api/giftcards/*` - Gift card operations
- `/api/admin/*` - Admin operations

## ğŸ› ï¸ Troubleshooting

### Port 3000 Already in Use
```bash
# Change port in .env
PORT=3001
```

### MongoDB Connection Error
1. Check if MongoDB is running: `npm run check-mongodb`
2. Verify `MONGODB_URI` in `.env`
3. For MongoDB Atlas, check IP whitelist

### Module Not Found Errors
```bash
# Reinstall dependencies
rm -rf node_modules backend/node_modules frontend/node_modules
npm run install:all
```

### Build Errors
```bash
# Clean and rebuild
rm -rf frontend/.next
npm run build
```

## ğŸ“ Environment Variables

Key variables in `.env`:

- `PORT` - Server port (default: 3000)
- `MONGODB_URI` - MongoDB connection string
- `JWT_SECRET` - Secret for JWT tokens
- `NEXT_PUBLIC_API_URL` - API URL for frontend (default: http://localhost:3000/api)

## ğŸš€ Production

```bash
# Build frontend
npm run build

# Start production server
npm start
```

Make sure to set `NODE_ENV=production` in production environment.

## ğŸ“ Support

For issues, check:
1. MongoDB is running
2. `.env` file is configured correctly
3. All dependencies are installed
4. Port 3000 is available
